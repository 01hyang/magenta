LOCAL_DIR := $(GET_LOCAL_DIR)

MODULE := $(LOCAL_DIR)

GLOBAL_INCLUDES += $(LOCAL_DIR)/source/include

# Disable these two warnings to prevent ACPICA from cluttering the
# build output
ifneq ($(CLANG),1)
MODULE_CFLAGS += -Wno-discarded-qualifiers
endif
MODULE_CFLAGS += -Wno-strict-aliasing -I$(LOCAL_DIR)/source/include/acpica

MODULE_SRCS += \
	$(LOCAL_DIR)/source/components/hardware/hwacpi.c \
	$(LOCAL_DIR)/source/components/hardware/hwxfsleep.c \
	$(LOCAL_DIR)/source/components/hardware/hwgpe.c \
	$(LOCAL_DIR)/source/components/hardware/hwxface.c \
	$(LOCAL_DIR)/source/components/hardware/hwregs.c \
	$(LOCAL_DIR)/source/components/hardware/hwpci.c \
	$(LOCAL_DIR)/source/components/hardware/hwvalid.c \
	$(LOCAL_DIR)/source/components/hardware/hwtimer.c \
	$(LOCAL_DIR)/source/components/hardware/hwesleep.c \
	$(LOCAL_DIR)/source/components/hardware/hwsleep.c \
	$(LOCAL_DIR)/source/components/executer/exstore.c \
	$(LOCAL_DIR)/source/components/executer/exoparg3.c \
	$(LOCAL_DIR)/source/components/executer/exutils.c \
	$(LOCAL_DIR)/source/components/executer/exfield.c \
	$(LOCAL_DIR)/source/components/executer/exnames.c \
	$(LOCAL_DIR)/source/components/executer/exstoren.c \
	$(LOCAL_DIR)/source/components/executer/exstorob.c \
	$(LOCAL_DIR)/source/components/executer/exresop.c \
	$(LOCAL_DIR)/source/components/executer/exfldio.c \
	$(LOCAL_DIR)/source/components/executer/exmutex.c \
	$(LOCAL_DIR)/source/components/executer/exdump.c \
	$(LOCAL_DIR)/source/components/executer/exoparg2.c \
	$(LOCAL_DIR)/source/components/executer/exsystem.c \
	$(LOCAL_DIR)/source/components/executer/exmisc.c \
	$(LOCAL_DIR)/source/components/executer/exoparg6.c \
	$(LOCAL_DIR)/source/components/executer/excreate.c \
	$(LOCAL_DIR)/source/components/executer/exresnte.c \
	$(LOCAL_DIR)/source/components/executer/exconfig.c \
	$(LOCAL_DIR)/source/components/executer/exresolv.c \
	$(LOCAL_DIR)/source/components/executer/exregion.c \
	$(LOCAL_DIR)/source/components/executer/exconvrt.c \
	$(LOCAL_DIR)/source/components/executer/exprep.c \
	$(LOCAL_DIR)/source/components/executer/exdebug.c \
	$(LOCAL_DIR)/source/components/executer/extrace.c \
	$(LOCAL_DIR)/source/components/executer/exoparg1.c \
	$(LOCAL_DIR)/source/components/namespace/nsnames.c \
	$(LOCAL_DIR)/source/components/namespace/nspredef.c \
	$(LOCAL_DIR)/source/components/namespace/nsaccess.c \
	$(LOCAL_DIR)/source/components/namespace/nsrepair2.c \
	$(LOCAL_DIR)/source/components/namespace/nsprepkg.c \
	$(LOCAL_DIR)/source/components/namespace/nswalk.c \
	$(LOCAL_DIR)/source/components/namespace/nsxfeval.c \
	$(LOCAL_DIR)/source/components/namespace/nsconvert.c \
	$(LOCAL_DIR)/source/components/namespace/nsdumpdv.c \
	$(LOCAL_DIR)/source/components/namespace/nsparse.c \
	$(LOCAL_DIR)/source/components/namespace/nsxfname.c \
	$(LOCAL_DIR)/source/components/namespace/nsdump.c \
	$(LOCAL_DIR)/source/components/namespace/nsarguments.c \
	$(LOCAL_DIR)/source/components/namespace/nssearch.c \
	$(LOCAL_DIR)/source/components/namespace/nsalloc.c \
	$(LOCAL_DIR)/source/components/namespace/nsutils.c \
	$(LOCAL_DIR)/source/components/namespace/nsinit.c \
	$(LOCAL_DIR)/source/components/namespace/nsobject.c \
	$(LOCAL_DIR)/source/components/namespace/nsload.c \
	$(LOCAL_DIR)/source/components/namespace/nseval.c \
	$(LOCAL_DIR)/source/components/namespace/nsrepair.c \
	$(LOCAL_DIR)/source/components/namespace/nsxfobj.c \
	$(LOCAL_DIR)/source/components/resources/rsaddr.c \
	$(LOCAL_DIR)/source/components/resources/rscalc.c \
	$(LOCAL_DIR)/source/components/resources/rsserial.c \
	$(LOCAL_DIR)/source/components/resources/rscreate.c \
	$(LOCAL_DIR)/source/components/resources/rsutils.c \
	$(LOCAL_DIR)/source/components/resources/rslist.c \
	$(LOCAL_DIR)/source/components/resources/rsmemory.c \
	$(LOCAL_DIR)/source/components/resources/rsinfo.c \
	$(LOCAL_DIR)/source/components/resources/rsxface.c \
	$(LOCAL_DIR)/source/components/resources/rsmisc.c \
	$(LOCAL_DIR)/source/components/resources/rsio.c \
	$(LOCAL_DIR)/source/components/resources/rsdumpinfo.c \
	$(LOCAL_DIR)/source/components/resources/rsirq.c \
	$(LOCAL_DIR)/source/components/tables/tbinstal.c \
	$(LOCAL_DIR)/source/components/tables/tbprint.c \
	$(LOCAL_DIR)/source/components/tables/tbfadt.c \
	$(LOCAL_DIR)/source/components/tables/tbxfroot.c \
	$(LOCAL_DIR)/source/components/tables/tbfind.c \
	$(LOCAL_DIR)/source/components/tables/tbxface.c \
	$(LOCAL_DIR)/source/components/tables/tbxfload.c \
	$(LOCAL_DIR)/source/components/tables/tbdata.c \
	$(LOCAL_DIR)/source/components/tables/tbutils.c \
	$(LOCAL_DIR)/source/components/parser/psloop.c \
	$(LOCAL_DIR)/source/components/parser/psutils.c \
	$(LOCAL_DIR)/source/components/parser/pstree.c \
	$(LOCAL_DIR)/source/components/parser/pswalk.c \
	$(LOCAL_DIR)/source/components/parser/psargs.c \
	$(LOCAL_DIR)/source/components/parser/psopinfo.c \
	$(LOCAL_DIR)/source/components/parser/psxface.c \
	$(LOCAL_DIR)/source/components/parser/psscope.c \
	$(LOCAL_DIR)/source/components/parser/psobject.c \
	$(LOCAL_DIR)/source/components/parser/psparse.c \
	$(LOCAL_DIR)/source/components/parser/psopcode.c \
	$(LOCAL_DIR)/source/components/dispatcher/dsdebug.c \
	$(LOCAL_DIR)/source/components/dispatcher/dsobject.c \
	$(LOCAL_DIR)/source/components/dispatcher/dswexec.c \
	$(LOCAL_DIR)/source/components/dispatcher/dswscope.c \
	$(LOCAL_DIR)/source/components/dispatcher/dsinit.c \
	$(LOCAL_DIR)/source/components/dispatcher/dsutils.c \
	$(LOCAL_DIR)/source/components/dispatcher/dswstate.c \
	$(LOCAL_DIR)/source/components/dispatcher/dswload2.c \
	$(LOCAL_DIR)/source/components/dispatcher/dsfield.c \
	$(LOCAL_DIR)/source/components/dispatcher/dsmthdat.c \
	$(LOCAL_DIR)/source/components/dispatcher/dscontrol.c \
	$(LOCAL_DIR)/source/components/dispatcher/dswload.c \
	$(LOCAL_DIR)/source/components/dispatcher/dsopcode.c \
	$(LOCAL_DIR)/source/components/dispatcher/dsargs.c \
	$(LOCAL_DIR)/source/components/dispatcher/dsmethod.c \
	$(LOCAL_DIR)/source/components/events/evxfevnt.c \
	$(LOCAL_DIR)/source/components/events/evgpeblk.c \
	$(LOCAL_DIR)/source/components/events/evgpe.c \
	$(LOCAL_DIR)/source/components/events/evxfgpe.c \
	$(LOCAL_DIR)/source/components/events/evrgnini.c \
	$(LOCAL_DIR)/source/components/events/evgpeutil.c \
	$(LOCAL_DIR)/source/components/events/evglock.c \
	$(LOCAL_DIR)/source/components/events/evregion.c \
	$(LOCAL_DIR)/source/components/events/evxfregn.c \
	$(LOCAL_DIR)/source/components/events/evevent.c \
	$(LOCAL_DIR)/source/components/events/evsci.c \
	$(LOCAL_DIR)/source/components/events/evgpeinit.c \
	$(LOCAL_DIR)/source/components/events/evhandler.c \
	$(LOCAL_DIR)/source/components/events/evmisc.c \
	$(LOCAL_DIR)/source/components/events/evxface.c \
	$(LOCAL_DIR)/source/components/utilities/utxferror.c \
	$(LOCAL_DIR)/source/components/utilities/utxfmutex.c \
	$(LOCAL_DIR)/source/components/utilities/utmisc.c \
	$(LOCAL_DIR)/source/components/utilities/utmutex.c \
	$(LOCAL_DIR)/source/components/utilities/utbuffer.c \
	$(LOCAL_DIR)/source/components/utilities/utobject.c \
	$(LOCAL_DIR)/source/components/utilities/uterror.c \
	$(LOCAL_DIR)/source/components/utilities/utstring.c \
	$(LOCAL_DIR)/source/components/utilities/utmath.c \
	$(LOCAL_DIR)/source/components/utilities/utpredef.c \
	$(LOCAL_DIR)/source/components/utilities/utprint.c \
	$(LOCAL_DIR)/source/components/utilities/utdecode.c \
	$(LOCAL_DIR)/source/components/utilities/utosi.c \
	$(LOCAL_DIR)/source/components/utilities/utdebug.c \
	$(LOCAL_DIR)/source/components/utilities/utaddress.c \
	$(LOCAL_DIR)/source/components/utilities/utuuid.c \
	$(LOCAL_DIR)/source/components/utilities/utcache.c \
	$(LOCAL_DIR)/source/components/utilities/utexcep.c \
	$(LOCAL_DIR)/source/components/utilities/uttrack.c \
	$(LOCAL_DIR)/source/components/utilities/uthex.c \
	$(LOCAL_DIR)/source/components/utilities/uteval.c \
	$(LOCAL_DIR)/source/components/utilities/utxface.c \
	$(LOCAL_DIR)/source/components/utilities/utownerid.c \
	$(LOCAL_DIR)/source/components/utilities/utstate.c \
	$(LOCAL_DIR)/source/components/utilities/utlock.c \
	$(LOCAL_DIR)/source/components/utilities/utnonansi.c \
	$(LOCAL_DIR)/source/components/utilities/utdelete.c \
	$(LOCAL_DIR)/source/components/utilities/utresrc.c \
	$(LOCAL_DIR)/source/components/utilities/utcopy.c \
	$(LOCAL_DIR)/source/components/utilities/utalloc.c \
	$(LOCAL_DIR)/source/components/utilities/utxfinit.c \
	$(LOCAL_DIR)/source/components/utilities/utglobal.c \
	$(LOCAL_DIR)/source/components/utilities/utinit.c \
	$(LOCAL_DIR)/source/components/utilities/utclib.c \
	$(LOCAL_DIR)/source/components/utilities/utids.c \
	$(LOCAL_DIR)/source/common/getopt.c \
	$(LOCAL_DIR)/source/common/ahpredef.c \
	$(LOCAL_DIR)/source/common/ahids.c \
	$(LOCAL_DIR)/source/common/ahtable.c \
	$(LOCAL_DIR)/source/os_specific/service_layers/osmagenta.c

	# We don't use the disassembler
	#$(LOCAL_DIR)/source/components/disassembler/dmopcode.c \
	$(LOCAL_DIR)/source/components/disassembler/dmresrcl2.c \
	$(LOCAL_DIR)/source/components/disassembler/dmresrcl.c \
	$(LOCAL_DIR)/source/components/disassembler/dmresrcs.c \
	$(LOCAL_DIR)/source/components/disassembler/dmbuffer.c \
	$(LOCAL_DIR)/source/components/disassembler/dmcstyle.c \
	$(LOCAL_DIR)/source/components/disassembler/dmutils.c \
	$(LOCAL_DIR)/source/components/disassembler/dmresrc.c \
	$(LOCAL_DIR)/source/components/disassembler/dmdeferred.c \
	$(LOCAL_DIR)/source/components/disassembler/dmnames.c \
	$(LOCAL_DIR)/source/components/disassembler/dmwalk.c \
	# We don't use the debugger
	#$(LOCAL_DIR)/source/components/resources/rsdump.c \
	#$(LOCAL_DIR)/source/components/debugger/dbconvert.c \
	$(LOCAL_DIR)/source/components/debugger/dbnames.c \
	$(LOCAL_DIR)/source/components/debugger/dbexec.c \
	$(LOCAL_DIR)/source/components/debugger/dbdisply.c \
	$(LOCAL_DIR)/source/components/debugger/dbhistry.c \
	$(LOCAL_DIR)/source/components/debugger/dbutils.c \
	$(LOCAL_DIR)/source/components/debugger/dbfileio.c \
	$(LOCAL_DIR)/source/components/debugger/dbcmds.c \
	$(LOCAL_DIR)/source/components/debugger/dbtest.c \
	$(LOCAL_DIR)/source/components/debugger/dbinput.c \
	$(LOCAL_DIR)/source/components/debugger/dbmethod.c \
	$(LOCAL_DIR)/source/components/debugger/dbobject.c \
	$(LOCAL_DIR)/source/components/debugger/dbxface.c \
	$(LOCAL_DIR)/source/components/debugger/dbstats.c \
	# These depend on file io
	#$(LOCAL_DIR)/source/common/cmfsize.c \
	$(LOCAL_DIR)/source/common/acfileio.c \
	$(LOCAL_DIR)/source/common/acgetline.c \

include make/module.mk
